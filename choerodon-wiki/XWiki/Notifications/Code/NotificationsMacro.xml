<?xml version='1.1' encoding='UTF-8'?>
<xwikidoc version="1.3" reference="XWiki.Notifications.Code.NotificationsMacro" locale="">
  <web>XWiki.Notifications.Code</web>
  <name>NotificationsMacro</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>XWiki.admin</creator>
  <creationDate>1538119157000</creationDate>
  <parent>XWiki.Notifications.Code.WebHome</parent>
  <author>XWiki.superadmin</author>
  <contentAuthor>XWiki.admin</contentAuthor>
  <date>1540278808000</date>
  <contentUpdateDate>1538119157000</contentUpdateDate>
  <version>2.1</version>
  <title/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>true</hidden>
  <content/>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>0</number>
    <className>XWiki.JavaScriptExtension</className>
    <guid>6e85d009-1444-4eac-ad84-67f06d136c73</guid>
    <class>
      <name>XWiki.JavaScriptExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage|onDemand|always</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>'use strict';&#xd;
require(['jquery', 'XWikiNotificationsMacro'], function ($, XWikiNotificationsMacro) {&#xd;
  $(document).ready(function() {&#xd;
    $('.notifications-macro').each(function () {&#xd;
      var macro = new XWikiNotificationsMacro(this);&#xd;
      macro.load();&#xd;
    });&#xd;
  });&#xd;
});&#xd;
</code>
    </property>
    <property>
      <name>JS</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>currentPage</use>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>1</number>
    <className>XWiki.JavaScriptExtension</className>
    <guid>815d35ce-0a68-4e78-a9f5-354b3c9c394b</guid>
    <class>
      <name>XWiki.JavaScriptExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage|onDemand|always</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>define('XWikiNotificationsMacro', ['jquery', 'xwiki-meta'], function($, xm) {&#xd;
  /**&#xd;
   * Construct a XWikiNotificationsMacro.&#xd;
   *&#xd;
   * Except the first ine, all the parameters are optional in the constructor. If they are not provided, the macro will&#xd;
   * load them from the DOM element, where they should be present with the "data-" attributes.&#xd;
   *&#xd;
   * @param macro DOM element that will be uses as container for the notifications.&#xd;
   * @param userId (optional) full serialization of the current user for who we are loading the notifications-macro&#xd;
   * @param count (optional) maximum number of notifications to load for each batch&#xd;
   * @param displayReadStatus (optional) either or not to display if the notifications have been read or notifications&#xd;
   * @param blackList (optional) the list of the ids of events that have already been displayed and that we don't want&#xd;
       to get again in next batches.&#xd;
   * @param useUserPreferences (optional) either or not to use the preferences of the user instead of handling the&#xd;
   *   following parameters&#xd;
   * @param displayOwnEvents (optional) either or not to display the events of the current user&#xd;
   * @param displayMinorEvents (optional) either or not to display minor update events on documents&#xd;
   * @param displaySystemEvents (optional) either or not to display events triggered by the system&#xd;
   * @param displayReadEvents (optional) either or not to display events that have been marked as read by the user&#xd;
   * @param wikis (optional) list of wikis, comma-separated, to include in the notifications&#xd;
   * @param spaces (optional) list of spaces, comma-separated, to include in the notifications&#xd;
   * @param pages (optional) list of pages, comma-separated, to include in the notifications&#xd;
   * @param users (optional) list of users, comma-separated, to include in the notifications (and only them)&#xd;
   */&#xd;
  return function(macro, userId, count, displayReadStatus, blackList, useUserPreferences,&#xd;
      displayOwnEvents, displayMinorEvents, displaySystemEvents, displayReadEvents, wikis, spaces, pages, users) {&#xd;
    var self = this;&#xd;
    self.macro = $(macro);&#xd;
    self.userId = userId ? userId : self.macro.attr('data-userId');&#xd;
    self.notificationsLimit = count ? count : self.macro.attr('data-count');&#xd;
    self.displayReadStatus = displayReadStatus != undefined&#xd;
      ? displayReadStatus : self.macro.attr('data-displayReadStatus').toLowerCase() == 'true' &amp;&amp; self.userId != '';&#xd;
    self.blackList = blackList ? blackList : [];&#xd;
    self.useUserPreferences = useUserPreferences != undefined&#xd;
      ? useUserPreferences : self.macro.attr('data-useuserpreferences');&#xd;
    self.displayOwnEvents = displayOwnEvents != undefined ? displayOwnEvents : self.macro.attr('data-displayOwnEvents');&#xd;
    self.displayMinorEvents = displayMinorEvents != undefined ? displayMinorEvents&#xd;
      : self.macro.attr('data-displayMinorEvents');&#xd;
    self.displaySystemEvents = displaySystemEvents != undefined ? displaySystemEvents&#xd;
      : self.macro.attr('data-displaySystemEvents');&#xd;
    self.displayReadEvents = displayReadEvents != undefined ? displayReadEvents&#xd;
      : self.macro.attr('data-displayReadEvents');&#xd;
    self.wikis = wikis != undefined ? wikis : self.macro.attr('data-wikis');&#xd;
    self.spaces = spaces != undefined ? spaces : self.macro.attr('data-spaces');&#xd;
    self.pages = pages != undefined ? pages : self.macro.attr('data-pages');&#xd;
    self.users = users != undefined ? users : self.macro.attr('data-users');&#xd;
&#xd;
    /**&#xd;
     * Function that load notifications.&#xd;
     *&#xd;
     * The parameter `untilDate` is used as an "offset" to get events in a paginate mode.&#xd;
     * We cannot rely on an integer offset because new events could have been stored recently and we want to display&#xd;
     * older ones only.&#xd;
     */&#xd;
    self.load = function(untilDate) {&#xd;
      var params = {&#xd;
        'userId':              self.userId,&#xd;
        'useUserPreferences':  self.useUserPreferences,&#xd;
        'count':               self.notificationsLimit,&#xd;
        'displayOwnEvents':    self.displayOwnEvents,&#xd;
        'displayMinorEvents':  self.displayMinorEvents,&#xd;
        'displaySystemEvents': self.displaySystemEvents,&#xd;
        'displayReadEvents':   self.displayReadEvents,&#xd;
        'wikis':               self.wikis,&#xd;
        'spaces':              self.spaces,&#xd;
        'pages':               self.pages,&#xd;
        'users':               self.users,&#xd;
        'displayReadStatus':   self.displayReadStatus&#xd;
      };&#xd;
      if (untilDate) {&#xd;
        params.untilDate = untilDate;&#xd;
        params.blackList = self.blackList.join(',');&#xd;
      }&#xd;
      var promise = $.Deferred();&#xd;
      var restURL = xm.restURL.substring(0, xm.restURL.indexOf('/rest/')) + '/rest/notifications?media=json';&#xd;
      $.getJSON(restURL, params).done(function (data) {&#xd;
        // Remove loading items&#xd;
        self.macro.removeClass('loading');&#xd;
        // Display the "nothing!" message if there is no notification&#xd;
        if (data.notifications.length == 0 &amp;&amp; !untilDate) {&#xd;
          self.displayNoNotification();&#xd;
        }&#xd;
        // Display each entry&#xd;
        for (var i = 0; i &lt; data.notifications.length; ++i) {&#xd;
          self.displayEntry(data.notifications[i]);&#xd;
        }&#xd;
        self.macro.find('.notifications-macro-load-more').remove();&#xd;
        // If there is other notifications to load&#xd;
        if (data.notifications.length == self.notificationsLimit) {&#xd;
          var loadMore = $('&lt;div>').addClass('text-center').addClass('notifications-macro-load-more');&#xd;
          var btn = $('&lt;button>');&#xd;
          btn.text("$escapetool.javascript($services.localization.render('notifications.menu.more'))");&#xd;
          btn.addClass('btn').addClass('btn-default').addClass('btn-block');&#xd;
          loadMore.append(btn);&#xd;
          self.macro.append(loadMore);&#xd;
          btn.click(function(event) {&#xd;
            loadMore.text('').addClass('loading').css('height', '50px');&#xd;
            // We use the date of the last displayed event as an offset to display those that come next&#xd;
            var lastCompositeEvent = data.notifications[data.notifications.length - 1];&#xd;
            var lastEventDate = lastCompositeEvent.dates[lastCompositeEvent.dates.length - 1];&#xd;
            self.load(lastEventDate);&#xd;
          });&#xd;
        }&#xd;
        promise.resolve(data.notifications);&#xd;
      });&#xd;
      return promise;&#xd;
    };&#xd;
&#xd;
    /**&#xd;
     * Display a notification entry&#xd;
     */&#xd;
    self.displayEntry = function (entry) {&#xd;
      // Add the id of the entry to the blacklist&#xd;
      for (var i = 0; i &lt; entry.ids.length; ++i) {&#xd;
        self.blackList.push(entry.ids[i]);&#xd;
      }&#xd;
      // Create the container&#xd;
      var notif = $('&lt;div>').addClass('notification-event');&#xd;
      notif.attr('data-eventtype', entry.type);&#xd;
      // Put the content&#xd;
      notif.append(entry.html);&#xd;
      // Create the "read" button&#xd;
      var readButton = $('&lt;div>');&#xd;
      if (!entry.read &amp;&amp; self.displayReadStatus) {&#xd;
        notif.addClass('notification-event-unread');&#xd;
        // Add the "mark as read" button&#xd;
        notif.find('.c7n-notification-description').append(readButton);&#xd;
      }&#xd;
      if (entry.exception) {&#xd;
        var exceptionBox = $('&lt;div>').addClass('box errormessage');&#xd;
        exceptionBox.text(entry.exception);&#xd;
        notif.append(exceptionBox);&#xd;
      }&#xd;
      // Store the data in the DOM element so that any javascript code can retrieve it&#xd;
      notif.data('notif', entry);&#xd;
      // Add the notification entry&#xd;
      self.macro.append(notif);&#xd;
      // Add the "mark as read" button if the notif is not already read&#xd;
      if (!entry.read) {&#xd;
        // Style the read button&#xd;
        readButton.addClass('close-notify-btn-wrap');&#xd;
        // Insert the cross icon&#xd;
        readButton.html('&lt;span class="icon icon-close close-notify-btn">&lt;/span>');&#xd;
        // On click&#xd;
        readButton.click(function() {&#xd;
          var notif = $(this).parents('div.notification-event');&#xd;
          notif.removeClass('notification-event-unread');&#xd;
          var url = new XWiki.Document(XWiki.Model.resolve('XWiki.Notifications.Code.NotificationsDisplayerUIX',&#xd;
            XWiki.EntityType.DOCUMENT)).getURL('get', 'outputSyntax=plain');&#xd;
          $.post(url, {&#xd;
            action: 'read',&#xd;
            eventIds: notif.data('notif').ids.join(','),&#xd;
            read: true&#xd;
          });&#xd;
          $(this).remove();&#xd;
          self.macro.trigger('eventMarkedAsRead', notif);&#xd;
        });&#xd;
      }&#xd;
      // Details&#xd;
      var details = notif.find('.notification-event-details');&#xd;
      details.hide();&#xd;
      var btnDetail = notif.find('.c7n-toggle-notification-event-details');&#xd;
      var arrow = notif.find('.notification-event-arrow');&#xd;
      btnDetail.click(function() {&#xd;
        btnDetail.toggleClass("opened closed");&#xd;
        details.toggle();&#xd;
        arrow.text(arrow.text() == '▸' ? '▾' : '▸');&#xd;
      });&#xd;
    };&#xd;
&#xd;
    /**&#xd;
     * Display a message saying there is no content&#xd;
     */&#xd;
    self.displayNoNotification = function () {&#xd;
      self.macro.removeClass('loading').html($('&lt;p>').addClass('text-center noitems')&#xd;
        .text("$escapetool.javascript($services.localization.render('notifications.menu.nothing'))"));&#xd;
    };&#xd;
  };&#xd;
});&#xd;
</code>
    </property>
    <property>
      <name>Macro class</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>currentPage</use>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>0</number>
    <className>XWiki.StyleSheetExtension</className>
    <guid>4e1c9bc0-9e28-41ed-b8f5-bd27e9cb740a</guid>
    <class>
      <name>XWiki.StyleSheetExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <contentType>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>contentType</name>
        <number>6</number>
        <prettyName>Content Type</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>CSS|LESS</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentType>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage|onDemand|always</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>#template('colorThemeInit.vm')&#xd;
/***********************************************&#xd;
 * Notification Container&#xd;
 ***********************************************/&#xd;
.notifications-macro {&#xd;
  max-width: 500px;&#xd;
  min-height: 50px;&#xd;
}&#xd;
&#xd;
/***********************************************&#xd;
 * Notification Event&#xd;
 ***********************************************/&#xd;
.notification-event {&#xd;
  border: 1px dashed $theme.borderColor;&#xd;
  padding: 1em;&#xd;
}&#xd;
&#xd;
.notification-event-unread {&#xd;
  background-color: $theme.panelBackgroundColor;&#xd;
}&#xd;
&#xd;
/***********************************************&#xd;
 * Notification Icons&#xd;
 ***********************************************/&#xd;
.notification-icon {&#xd;
  padding-right: 0;&#xd;
  position: relative;&#xd;
}&#xd;
&#xd;
.notification-icon .img-thumbnail {&#xd;
  background-color: $theme.pageContentBackgroundColor;&#xd;
  font-size: 2em;&#xd;
  height: 2em;&#xd;
  text-align: center;&#xd;
  width: 2em;&#xd;
}&#xd;
&#xd;
.notification-icon .img-thumbnail.small{&#xd;
  font-size: 1em;&#xd;
  height: 2em;&#xd;
  left: 0.5em;&#xd;
  padding: 0.1em;&#xd;
  position: absolute;&#xd;
  bottom: -0.8em;&#xd;
  width: 2em;&#xd;
}&#xd;
&#xd;
/***********************************************&#xd;
 * Notification Content&#xd;
 ***********************************************/&#xd;
.notification-content {&#xd;
  padding: 0 2.6em 0 0.5em;&#xd;
}&#xd;
&#xd;
.notification-event-user > img {&#xd;
  height: 16px;&#xd;
  width: 16px;&#xd;
  /* Don't work for Internet Explorer nor Edge 15 */&#xd;
  object-fit: cover;&#xd;
  object-position: center;&#xd;
}&#xd;
&#xd;
/***********************************************&#xd;
 * Notification Buttons&#xd;
 ***********************************************/&#xd;
.notification-event-read-button, .toggle-notification-event-details {&#xd;
  background-color: $theme.pageContentBackgroundColor;&#xd;
  border: 1px solid #ddd;&#xd;
  position: absolute;&#xd;
  right: 10px;&#xd;
  width: 2em;&#xd;
  z-index: 1;&#xd;
}&#xd;
&#xd;
.notification-event-read-button {&#xd;
  top: -6px;&#xd;
}&#xd;
&#xd;
.toggle-notification-event-details {&#xd;
  bottom: -6px;&#xd;
}&#xd;
&#xd;
/***********************************************&#xd;
 * Notification Details&#xd;
 ***********************************************/&#xd;
.notification-event-details {&#xd;
  font-size: 0.8em;&#xd;
  margin: 1em 0 0 0;&#xd;
}&#xd;
&#xd;
.notification-event-details td {&#xd;
  border: 0;&#xd;
  overflow: hidden;&#xd;
  padding: 2px;&#xd;
  text-overflow: ellipsis;&#xd;
  width: 33%;&#xd;
}&#xd;
&#xd;
.notification-event-details td.description {&#xd;
  width: 45%;&#xd;
}&#xd;
&#xd;
/***********************************************&#xd;
 * Notifications Footer&#xd;
 ***********************************************/&#xd;
.notifications-load-more {&#xd;
  cursor: pointer;&#xd;
  min-height: 2em;&#xd;
}&#xd;
&#xd;
.notifications-load-more:hover {&#xd;
  background-color: $theme.highlightColor;&#xd;
}&#xd;
&#xd;
.notifications-load-more p {&#xd;
  margin: 0;&#xd;
  padding: 0.7em;&#xd;
}</code>
    </property>
    <property>
      <contentType>CSS</contentType>
    </property>
    <property>
      <name>CSS</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>currentPage</use>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>0</number>
    <className>XWiki.WikiMacroClass</className>
    <guid>74143203-3a6b-44fd-8267-05163e7ed1fa</guid>
    <class>
      <name>XWiki.WikiMacroClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <code>
        <disabled>0</disabled>
        <editor>Text</editor>
        <name>code</name>
        <number>9</number>
        <prettyName>Macro code</prettyName>
        <rows>20</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <contentDescription>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>contentDescription</name>
        <number>8</number>
        <prettyName>Content description (Not applicable for "No content" type)</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </contentDescription>
      <contentType>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>contentType</name>
        <number>7</number>
        <prettyName>Macro content type</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Optional|Mandatory|No content</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </contentType>
      <defaultCategory>
        <disabled>0</disabled>
        <name>defaultCategory</name>
        <number>4</number>
        <prettyName>Default category</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultCategory>
      <description>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>description</name>
        <number>3</number>
        <prettyName>Macro description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <id>
        <disabled>0</disabled>
        <name>id</name>
        <number>1</number>
        <prettyName>Macro id</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </id>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>2</number>
        <prettyName>Macro name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <supportsInlineMode>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>supportsInlineMode</name>
        <number>5</number>
        <prettyName>Supports inline mode</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </supportsInlineMode>
      <visibility>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>visibility</name>
        <number>6</number>
        <prettyName>Macro visibility</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>|</separator>
        <separators>|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>Current User|Current Wiki|Global</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </visibility>
    </class>
    <property>
      <code>{{velocity}}&#xd;
#set ($displayMacro = true)&#xd;
#if ($xcontext.action != 'view')&#xd;
  {{info}}&#xd;
    {{translation key="notifications.macro.whenNotView" /}}&#xd;
  {{/info}}&#xd;
  &#xd;
  #set ($displayMacro = false)&#xd;
#else &#xd;
  #set ($users = $xcontext.macro.params.users)&#xd;
  #if ("$!xcontext.macro.params.displayWatchedUsersOnly" == 'true')&#xd;
    #set ($watchedUsers = $services.notification.watch.watchedUsers)&#xd;
    #if ($watchedUsers.isEmpty())&#xd;
    &#xd;
      {{warning}}&#xd;
        {{translation key="notifications.macro.noWatchedUsers" /}}&#xd;
      {{/warning}}&#xd;
      &#xd;
      #set ($displayMacro = false)&#xd;
    #else&#xd;
      #set ($users = $stringtool.join($services.notification.watch.watchedUsers, ','))&#xd;
    #end&#xd;
  #end&#xd;
#end&#xd;
#if ($displayMacro)&#xd;
#set ($discard = $xwiki.jsx.use('XWiki.Notifications.Code.NotificationsMacro'))&#xd;
#set ($discard = $xwiki.ssx.use('XWiki.Notifications.Code.NotificationsMacro'))&#xd;
#set ($discard = $xwiki.ssx.use('XWiki.Notifications.Code.NotificationsDisplayerUIX'))&#xd;
{{html clean="false"}}&#xd;
&lt;div class="notifications-macro loading" &#xd;
  data-userId="$!escapetool.xml($services.model.serialize($xcontext.userReference, 'default'))"&#xd;
  data-count="$!escapetool.xml($xcontext.macro.params.count)" &#xd;
  data-useUserPreferences="$!escapetool.xml($xcontext.macro.params.useUserPreferences)"&#xd;
  data-displayOwnEvents="$!escapetool.xml($xcontext.macro.params.displayOwnEvents)"&#xd;
  data-displayMinorEvents="$!escapetool.xml($xcontext.macro.params.displayMinorEvents)"&#xd;
  data-displaySystemEvents="$!escapetool.xml($xcontext.macro.params.displaySystemEvents)"&#xd;
  data-displayReadEvents="$!escapetool.xml($xcontext.macro.params.displayReadEvents)"&#xd;
  data-wikis="$!escapetool.xml($xcontext.macro.params.wikis)"&#xd;
  data-spaces="$!escapetool.xml($xcontext.macro.params.spaces)"&#xd;
  data-pages="$!escapetool.xml($xcontext.macro.params.pages)"&#xd;
  data-users="$!escapetool.xml($users)"&#xd;
  data-displayReadStatus="$!escapetool.xml($xcontext.macro.params.displayReadStatus)"&#xd;
>&#xd;
&lt;/div>&#xd;
{{/html}}&#xd;
#end&#xd;
{{/velocity}}</code>
    </property>
    <property>
      <contentDescription></contentDescription>
    </property>
    <property>
      <contentType>No content</contentType>
    </property>
    <property>
      <defaultCategory></defaultCategory>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <id>notifications</id>
    </property>
    <property>
      <name>Notifications</name>
    </property>
    <property>
      <supportsInlineMode>0</supportsInlineMode>
    </property>
    <property>
      <visibility>Current Wiki</visibility>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>0</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>05ae5000-9fb6-4950-91b1-0ca199dc6c2f</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>10</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>count</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>2</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>f978d0e3-e4e3-434a-aca2-931c037ed5ab</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>false</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>useUserPreferences</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>3</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>d7f3ec6d-47cc-4ac9-9dfa-79af7d7a130a</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>false</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>displayOwnEvents</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>4</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>be57dad1-cbbd-438c-83c7-a7c76df0f817</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>false</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>displayMinorEvents</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>5</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>a779f085-8472-4ae1-950c-3e6d74690a2b</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>false</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>displaySystemEvents</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>6</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>cf8576f4-e7da-481a-944e-087aa16125ac</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>true</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>displayReadEvents</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>7</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>9bb41e1e-1a94-46ea-baa5-a47e8d685155</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>true</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>displayReadStatus</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>8</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>9c9f159d-c46d-488b-adf7-13902d1f0bf7</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue></defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>wikis</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>9</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>b2b2ba6c-9c50-4678-bd78-8d90937c148d</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue></defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>spaces</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>10</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>b2fec19e-2ab6-4c80-9d65-e771f0649560</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue></defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>pages</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>11</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>64a5c9be-27c7-4ca8-b3f1-e944526a308b</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue></defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>users</name>
    </property>
  </object>
  <object>
    <name>XWiki.Notifications.Code.NotificationsMacro</name>
    <number>12</number>
    <className>XWiki.WikiMacroParameterClass</className>
    <guid>981511b5-e10d-4691-a81a-849b35ad191f</guid>
    <class>
      <name>XWiki.WikiMacroParameterClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <defaultValue>
        <disabled>0</disabled>
        <name>defaultValue</name>
        <number>4</number>
        <prettyName>Parameter default value</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </defaultValue>
      <description>
        <disabled>0</disabled>
        <name>description</name>
        <number>2</number>
        <prettyName>Parameter description</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </description>
      <mandatory>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>mandatory</name>
        <number>3</number>
        <prettyName>Parameter mandatory</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </mandatory>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Parameter name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
    </class>
    <property>
      <defaultValue>false</defaultValue>
    </property>
    <property>
      <description></description>
    </property>
    <property>
      <mandatory>0</mandatory>
    </property>
    <property>
      <name>displayWatchedUsersOnly</name>
    </property>
  </object>
</xwikidoc>